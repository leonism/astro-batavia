---
import { getLocalizedPath } from '@/i18n/utils';
import type { LanguageKey } from '@/i18n/types';
export interface Link {
  href: string;
  text: string;
  isExternal?: boolean;
  isLocalized?: boolean;
}
interface Props {
  title: string;
  links: Link[];
  lang: LanguageKey;
}
const { title, links, lang } = Astro.props;
---

<div
  class="my-0"
  role="navigation"
  aria-labelledby={`${title.toLowerCase()}-links`}>
  <h3
    id={`${title.toLowerCase()}-links`}
    class="bold mb-4 mt-7 text-sm uppercase tracking-wider text-gray-900 dark:text-gray-100">
    {title}
  </h3>
  <ul
    class="space-y-2"
    role="list">
    {
      links.map((link) => (
        <li>
          <a
            href={link.isLocalized ? getLocalizedPath(link.href, lang) : link.href}
            target={link.isExternal ? '_blank' : undefined}
            rel={link.isExternal ? 'noopener noreferrer' : undefined}
            aria-label={link.isExternal ? `${link.text} (opens in a new tab)` : undefined}
            class="text-gray-600 transition-colors duration-200 hover:text-primary-600 dark:text-gray-300 dark:hover:text-primary-400">
            {link.text}
          </a>
        </li>
      ))
    }
  </ul>
</div>
