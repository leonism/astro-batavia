---
import { getLangFromUrl } from "@/i18n/utils";
import type { LanguageKey } from "@/i18n/types";

import NavigationHeaderLogo from "./NavigationHeaderLogo.astro";
import NavigationHeaderNavLinks from "./NavigationHeaderNavLinks.astro";
import NavigationHeaderUtilities from "./NavigationHeaderUtilities.astro";
import NavigationMobileMenu from "./NavigationMobileMenu.astro";
import NavigationSearchToggle from "./NavigationSearchToggle.astro";

const lang = getLangFromUrl(Astro.url) as LanguageKey;
const currentPath = Astro.url.pathname;
---

<header
  class="fixed top-0 z-50 w-full bg-white/50 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200/50 dark:border-slate-700/50"
  aria-label="Main navigation">
  <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" role="navigation">
    <div class="flex justify-between items-center h-16">
      <NavigationHeaderLogo lang={lang} />
      <div class="hidden md:flex items-center gap-5">
        <NavigationHeaderNavLinks
          lang={lang}
          currentPath={currentPath}
          variant="desktop"
        />
      </div>
      <div class="flex items-center">
        <NavigationSearchToggle />
        <NavigationHeaderUtilities />
      </div>
    </div>
  </nav>
</header>
<NavigationMobileMenu />
