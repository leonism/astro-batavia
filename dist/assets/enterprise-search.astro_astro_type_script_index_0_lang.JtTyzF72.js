import"./_sentry-release-injection-file.BN1bRH4y.js";(function(){try{var c=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new c.Error().stack;e&&(c._sentryDebugIds=c._sentryDebugIds||{},c._sentryDebugIds[e]="23a77e5f-ba6e-4c0e-9bae-8134b13c6bf0",c._sentryDebugIdIdentifier="sentry-dbid-23a77e5f-ba6e-4c0e-9bae-8134b13c6bf0")}catch{}})();class f{documents=[];searchIndex=new Map;tagIndex=new Map;titleIndex=new Map;cache=new Map;analytics=[];stopWords=new Set(["the","a","an","and","or","but","in","on","at","to","for","of","with","by","is","are","was","were","be","been","being","have","has","had","do","does","did","will","would","could","should"]);constructor(){this.loadAnalyticsFromStorage()}indexDocuments(e){this.documents=e,this.buildSearchIndex(),this.buildTagIndex(),this.buildTitleIndex(),this.cache.clear()}search(e,t={},s={}){const{fuzzyThreshold:i=.8,maxResults:r=50,enableHighlighting:a=!0,minQueryLength:o=1}=s;if(!e||e.trim().length<o)return this.getFilteredDocuments(t,r);const l=this.normalizeQuery(e),n=this.getCacheKey(l,t);if(this.cache.has(n)){const u=this.cache.get(n);return this.trackSearch(e,u.length,t),u.slice(0,r)}const h=this.performSearch(l,t,{fuzzyThreshold:i,enableHighlighting:a,maxResults:r});return this.cache.set(n,h),this.trackSearch(e,h.length,t),h}getSuggestions(e,t=5){if(e.length<2)return[];const s=[],i=e.toLowerCase();return this.documents.forEach(r=>{r.title.toLowerCase().includes(i)&&s.push({text:r.title,type:"title",score:this.calculateSuggestionScore(r.title,i)})}),this.tagIndex.forEach((r,a)=>{a.toLowerCase().includes(i)&&s.push({text:a,type:"tag",score:this.calculateSuggestionScore(a,i)})}),this.analytics.forEach(r=>{r.query.toLowerCase().includes(i)&&r.resultsCount>0&&s.push({text:r.query,type:"query",score:this.calculateSuggestionScore(r.query,i)+r.resultsCount/100})}),s.sort((r,a)=>a.score-r.score).slice(0,t).filter((r,a,o)=>o.findIndex(l=>l.text.toLowerCase()===r.text.toLowerCase())===a)}getPopularSearches(e=10){const t=new Map;return this.analytics.forEach(s=>{s.resultsCount>0&&t.set(s.query,(t.get(s.query)||0)+1)}),Array.from(t.entries()).map(([s,i])=>({query:s,count:i})).sort((s,i)=>i.count-s.count).slice(0,e)}getAnalytics(){return[...this.analytics]}trackResultClick(e,t){const s=this.analytics.filter(i=>i.query===e).sort((i,r)=>r.timestamp.getTime()-i.timestamp.getTime())[0];s&&(s.clickedResult=t,this.saveAnalyticsToStorage())}clearCache(){this.cache.clear()}buildSearchIndex(){this.searchIndex.clear(),this.documents.forEach((e,t)=>{this.extractWords(`${e.title} ${e.description} ${e.content||""} ${e.tags.join(" ")}`).forEach(i=>{this.searchIndex.has(i)||this.searchIndex.set(i,new Set),this.searchIndex.get(i).add(t)})})}buildTagIndex(){this.tagIndex.clear(),this.documents.forEach((e,t)=>{e.tags.forEach(s=>{const i=s.toLowerCase();this.tagIndex.has(i)||this.tagIndex.set(i,new Set),this.tagIndex.get(i).add(t)})})}buildTitleIndex(){this.titleIndex.clear(),this.documents.forEach((e,t)=>{this.extractWords(e.title).forEach(i=>{this.titleIndex.has(i)||this.titleIndex.set(i,new Set),this.titleIndex.get(i).add(t)})})}performSearch(e,t,s){const i=this.extractWords(e),r=new Set,a=new Map;i.forEach(l=>{this.searchIndex.has(l)&&this.searchIndex.get(l).forEach(n=>{r.add(n),a.set(n,(a.get(n)||0)+2)}),this.searchIndex.forEach((n,h)=>{const u=this.calculateSimilarity(l,h);u>=s.fuzzyThreshold&&n.forEach(g=>{r.add(g),a.set(g,(a.get(g)||0)+u)})})});const o=[];return r.forEach(l=>{const n=this.documents[l];if(this.matchesFilters(n,t)){const h={...n,relevanceScore:this.calculateRelevanceScore(n,e,a.get(l)||0),matchedFields:this.getMatchedFields(n,e),excerpt:this.generateExcerpt(n,e)};s.enableHighlighting&&(h.highlightedTitle=this.highlightText(n.title,e),h.highlightedDescription=this.highlightText(n.description,e)),o.push(h)}}),this.sortResults(o,t.sortBy||"relevance",t.sortOrder||"desc").slice(0,s.maxResults)}getFilteredDocuments(e,t){return this.documents.filter(s=>this.matchesFilters(s,e)).map(s=>({...s,relevanceScore:0,matchedFields:[],excerpt:s.description.substring(0,150)+(s.description.length>150?"...":"")})).sort((s,i)=>i.pubDate.getTime()-s.pubDate.getTime()).slice(0,t)}calculateRelevanceScore(e,t,s){let i=s;const r=t.toLowerCase();return e.title.toLowerCase().includes(r)&&(i+=5),e.tags.forEach(o=>{o.toLowerCase().includes(r)&&(i+=3)}),e.description.toLowerCase().includes(r)&&(i+=2),(Date.now()-e.pubDate.getTime())/(1e3*60*60*24)<30&&(i+=1),i}getMatchedFields(e,t){const s=[],i=t.toLowerCase();return e.title.toLowerCase().includes(i)&&s.push("title"),e.description.toLowerCase().includes(i)&&s.push("description"),e.tags.some(r=>r.toLowerCase().includes(i))&&s.push("tags"),e.content&&e.content.toLowerCase().includes(i)&&s.push("content"),s}generateExcerpt(e,t){const s=t.toLowerCase(),i=e.content||e.description,r=i.toLowerCase().indexOf(s);if(r===-1)return e.description.substring(0,150)+(e.description.length>150?"...":"");const a=Math.max(0,r-75),o=Math.min(i.length,r+t.length+75),l=i.substring(a,o);return(a>0?"...":"")+l+(o<i.length?"...":"")}highlightText(e,t){const s=this.extractWords(t);let i=e;return s.forEach(r=>{const a=new RegExp(`(${this.escapeRegex(r)})`,"gi");i=i.replace(a,'<mark class="search-highlight">$1</mark>')}),i}matchesFilters(e,t){return!(t.tags&&t.tags.length>0&&!t.tags.some(s=>e.tags.includes(s))||t.dateFrom&&e.pubDate<t.dateFrom||t.dateTo&&e.pubDate>t.dateTo||t.author&&e.author&&!e.author.toLowerCase().includes(t.author.toLowerCase())||t.category&&e.category&&e.category!==t.category)}sortResults(e,t,s){return e.sort((i,r)=>{let a=0;switch(t){case"title":a=i.title.localeCompare(r.title);break;case"date":a=i.pubDate.getTime()-r.pubDate.getTime();break;case"popularity":a=(r.readingTime||0)-(i.readingTime||0);break;case"relevance":default:a=r.relevanceScore-i.relevanceScore;break}return s==="desc"?-a:a})}extractWords(e){return e.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(t=>t.length>2&&!this.stopWords.has(t))}normalizeQuery(e){return e.trim().toLowerCase()}getCacheKey(e,t){return`${e}:${JSON.stringify(t)}`}calculateSimilarity(e,t){const s=e.length>t.length?e:t,i=e.length>t.length?t:e;if(s.length===0)return 1;const r=this.levenshteinDistance(s,i);return(s.length-r)/s.length}levenshteinDistance(e,t){const s=Array(t.length+1).fill(null).map(()=>Array(e.length+1).fill(null));for(let i=0;i<=e.length;i++)s[0][i]=i;for(let i=0;i<=t.length;i++)s[i][0]=i;for(let i=1;i<=t.length;i++)for(let r=1;r<=e.length;r++){const a=e[r-1]===t[i-1]?0:1;s[i][r]=Math.min(s[i][r-1]+1,s[i-1][r]+1,s[i-1][r-1]+a)}return s[t.length][e.length]}calculateSuggestionScore(e,t){const s=this.calculateSimilarity(e.toLowerCase(),t),i=e.toLowerCase().startsWith(t)?.5:0,r=e.length/100;return s+i-r}escapeRegex(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}trackSearch(e,t,s){this.analytics.push({query:e,timestamp:new Date,resultsCount:t,filters:s}),this.analytics.length>1e3&&(this.analytics=this.analytics.slice(-1e3)),this.saveAnalyticsToStorage()}loadAnalyticsFromStorage(){try{const e=localStorage.getItem("search-analytics");if(e){const t=JSON.parse(e);this.analytics=t.map(s=>({...s,timestamp:new Date(s.timestamp),filters:s.filters||{}}))}}catch(e){console.warn("Failed to load search analytics from storage:",e)}}saveAnalyticsToStorage(){try{localStorage.setItem("search-analytics",JSON.stringify(this.analytics))}catch(e){console.warn("Failed to save search analytics to storage:",e)}}}class p{searchEngine;config;isInitialized=!1;searchHistory=[];popularSearches=[];constructor(e={}){this.config={enableAnalytics:!0,enableCache:!0,enableVoiceSearch:!0,maxResults:50,debounceMs:300,fuzzyThreshold:.6,...e},this.searchEngine=new f,this.loadSearchHistory(),this.loadPopularSearches()}async initialize(e){try{await this.searchEngine.indexDocuments(e),this.isInitialized=!0,console.log(`Search engine initialized with ${e.length} documents`)}catch(t){throw console.error("Failed to initialize search engine:",t),t}}async search(e,t={},s={}){if(!this.isInitialized)throw new Error("Search engine not initialized. Call initialize() first.");const i=performance.now();try{const r=this.searchEngine.search(e,t,{maxResults:s.limit||this.config.maxResults,fuzzyThreshold:this.config.fuzzyThreshold}),o=(await this.searchEngine.getSuggestions(e,5)).map(n=>n.text);this.config.enableAnalytics&&e.trim()&&this.addToSearchHistory(e);const l=performance.now()-i;return{results:r,totalCount:r.length,searchTime:Math.round(l*100)/100,suggestions:o}}catch(r){return console.error("Search failed:",r),{results:[],totalCount:0,searchTime:0,suggestions:[]}}}async getSuggestions(e,t=8){if(!this.isInitialized||!e.trim())return this.getPopularSearches().slice(0,t);try{return this.searchEngine.getSuggestions(e,t).map(i=>i.text)}catch(s){return console.error("Failed to get suggestions:",s),[]}}trackResultClick(e,t){this.config.enableAnalytics&&this.searchEngine.trackResultClick(e,t)}getAnalytics(){return this.config.enableAnalytics?this.searchEngine.getAnalytics():null}clearCache(){this.searchEngine.clearCache()}getSearchHistory(){return[...this.searchHistory]}getPopularSearches(){return[...this.popularSearches]}clearSearchHistory(){this.searchHistory=[],this.saveSearchHistory()}addToSearchHistory(e){const t=e.trim().toLowerCase();!t||this.searchHistory.includes(t)||(this.searchHistory.unshift(t),this.searchHistory=this.searchHistory.slice(0,20),this.saveSearchHistory())}loadSearchHistory(){try{const e=localStorage.getItem("enterprise-search-history");e&&(this.searchHistory=JSON.parse(e))}catch(e){console.warn("Failed to load search history:",e),this.searchHistory=[]}}saveSearchHistory(){try{localStorage.setItem("enterprise-search-history",JSON.stringify(this.searchHistory))}catch(e){console.warn("Failed to save search history:",e)}}loadPopularSearches(){try{const e=localStorage.getItem("enterprise-search-popular");e?this.popularSearches=JSON.parse(e):(this.popularSearches=["JavaScript","React","TypeScript","CSS","Node.js","Vue.js","Python","API"],this.savePopularSearches())}catch(e){console.warn("Failed to load popular searches:",e),this.popularSearches=[]}}savePopularSearches(){try{localStorage.setItem("enterprise-search-popular",JSON.stringify(this.popularSearches))}catch(e){console.warn("Failed to save popular searches:",e)}}updatePopularSearches(){if(!this.config.enableAnalytics)return;const e=this.getAnalytics();e&&e.topQueries&&(this.popularSearches=e.topQueries.slice(0,10).map(t=>t.query),this.savePopularSearches())}isReady(){return this.isInitialized}getConfig(){return{...this.config}}updateConfig(e){this.config={...this.config,...e}}}const d=new p;class m{elements;state;debounceTimer=null;popularSearches=[];intersectionObserver=null;abortController=null;constructor(){this.elements=this.initializeElements(),this.state=this.initializeState(),this.initializeEventListeners(),this.loadSearchHistory(),this.loadPopularSearches(),this.initializeIntersectionObserver()}initializeElements(){return{searchInput:document.getElementById("enterprise-search-input"),searchButton:document.getElementById("search-button"),clearButton:document.getElementById("clear-search"),voiceButton:document.getElementById("voice-search"),suggestionsContainer:document.getElementById("search-suggestions"),filtersContainer:document.getElementById("search-filters"),resultsContainer:document.getElementById("results-container"),statusElement:document.getElementById("search-status"),loadingIndicator:document.getElementById("search-loading"),noResultsElement:document.getElementById("no-results"),sortDropdown:document.getElementById("sort-dropdown-menu"),viewToggle:document.querySelector(".view-toggle")}}initializeState(){return{query:"",filters:{tags:[],dateFrom:void 0,dateTo:void 0,author:"",category:""},sortBy:"relevance",sortOrder:"desc",currentView:"grid",isLoading:!1,hasSearched:!1,currentPage:1,itemsPerPage:12,totalResults:0}}initializeEventListeners(){this.elements.searchInput&&(this.elements.searchInput.addEventListener("input",this.handleSearchInput.bind(this)),this.elements.searchInput.addEventListener("focus",this.handleSearchFocus.bind(this)),this.elements.searchInput.addEventListener("blur",this.handleSearchBlur.bind(this)),this.elements.searchInput.addEventListener("keydown",this.handleSearchKeydown.bind(this))),this.elements.searchButton&&this.elements.searchButton.addEventListener("click",this.handleSearchSubmit.bind(this)),this.elements.clearButton&&this.elements.clearButton.addEventListener("click",this.handleClearSearch.bind(this)),this.elements.voiceButton&&this.elements.voiceButton.addEventListener("click",this.handleVoiceSearch.bind(this)),this.elements.sortDropdown&&this.elements.sortDropdown.addEventListener("click",this.handleSortChange.bind(this)),this.elements.viewToggle&&this.elements.viewToggle.addEventListener("click",this.handleViewToggle.bind(this)),this.initializeFilterEvents(),document.addEventListener("keydown",this.handleGlobalKeydown.bind(this)),window.addEventListener("beforeunload",this.saveSearchHistory.bind(this))}initializeFilterEvents(){document.addEventListener("click",s=>{const i=s.target;i.classList.contains("tag-filter")&&this.handleTagFilter(i)}),document.querySelectorAll(".date-filter").forEach(s=>{s.addEventListener("click",this.handleDateFilter.bind(this))}),document.querySelectorAll(".quick-filter").forEach(s=>{s.addEventListener("click",this.handleQuickFilter.bind(this))})}initializeIntersectionObserver(){const e=document.getElementById("infinite-scroll-trigger");e&&(this.intersectionObserver=new IntersectionObserver(t=>{t.forEach(s=>{s.isIntersecting&&this.state.hasSearched&&!this.state.isLoading&&this.loadMoreResults()})},{threshold:.1}),this.intersectionObserver.observe(e))}handleSearchInput(e){const s=e.target.value.trim();this.debounceTimer!==null&&clearTimeout(this.debounceTimer),this.state.query=s,this.toggleClearButton(s.length>0),this.debounceTimer=window.setTimeout(()=>{s.length>=2?(this.performSearch(),this.showSuggestions(s)):s.length===0?(this.clearResults(),this.showPopularSearches()):this.hideSuggestions()},300)}handleSearchFocus(){this.state.query.length>=2?this.showSuggestions(this.state.query):this.showPopularSearches()}handleSearchBlur(){setTimeout(()=>{this.hideSuggestions()},200)}handleSearchKeydown(e){e.key==="Enter"?(e.preventDefault(),this.handleSearchSubmit()):e.key==="Escape"?this.handleClearSearch():(e.key==="ArrowDown"||e.key==="ArrowUp")&&this.handleSuggestionNavigation(e)}handleSearchSubmit(){this.state.query.trim()&&(this.addToSearchHistory(this.state.query),this.performSearch(),this.hideSuggestions())}handleClearSearch(){this.elements.searchInput&&(this.elements.searchInput.value="",this.elements.searchInput.focus()),this.state.query="",this.state.currentPage=1,this.clearResults(),this.clearFilters(),this.toggleClearButton(!1),this.showPopularSearches()}handleVoiceSearch(){if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const e=window.webkitSpeechRecognition||window.SpeechRecognition,t=new e;t.continuous=!1,t.interimResults=!1,t.lang=document.documentElement.lang||"en-US",t.onstart=()=>{this.setVoiceSearchState(!0)},t.onresult=s=>{const i=s.results[0][0].transcript;this.elements.searchInput&&(this.elements.searchInput.value=i,this.state.query=i,this.performSearch())},t.onerror=()=>{this.setVoiceSearchState(!1)},t.onend=()=>{this.setVoiceSearchState(!1)},t.start()}}handleSortChange(e){const t=e.target;if(t.classList.contains("sort-option")){const s=t.dataset.sort;if(s){const[i,r]=s.split("-");this.state.sortBy=i,this.state.sortOrder=r||"desc",this.updateSortUI(t),this.performSearch()}}}handleViewToggle(e){const s=e.target.closest(".view-btn");if(s){const i=s.dataset.view;i&&i!==this.state.currentView&&(this.state.currentView=i,this.updateViewUI(i),this.updateResultsView(i))}}handleTagFilter(e){const t=e.dataset.tag;t&&(e.classList.contains("active")?(this.state.filters.tags=(this.state.filters.tags||[]).filter(i=>i!==t),e.classList.remove("active")):(this.state.filters.tags||(this.state.filters.tags=[]),this.state.filters.tags.push(t),e.classList.add("active")),this.performSearch())}handleDateFilter(e){const t=e.target,s=t.dataset.range;if(s){const i=new Date;let r=null;switch(s){case"week":r=new Date(i.getTime()-7*24*60*60*1e3);break;case"month":r=new Date(i.getTime()-30*24*60*60*1e3);break;case"year":r=new Date(i.getTime()-365*24*60*60*1e3);break;case"all":default:r=null;break}this.state.filters.dateFrom=r||void 0,this.state.filters.dateTo=s==="all"?void 0:i,this.updateDateFilterUI(t),this.performSearch()}}handleQuickFilter(e){const t=e.target,s=t.dataset.filter;s==="popular"?(this.state.sortBy="popularity",this.state.sortOrder="desc"):s==="recent"&&(this.state.sortBy="date",this.state.sortOrder="desc"),this.updateQuickFilterUI(t),this.performSearch()}handleGlobalKeydown(e){(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),this.elements.searchInput?.focus())}handleSuggestionNavigation(e){const t=document.querySelectorAll(".search-suggestion");if(t.length===0)return;const s=document.querySelector(".search-suggestion.active");let i=0;if(s){const r=Array.from(t).indexOf(s);e.key==="ArrowDown"?i=(r+1)%t.length:i=r===0?t.length-1:r-1,s.classList.remove("active")}t[i].classList.add("active"),e.preventDefault()}async performSearch(){this.state.isLoading&&this.abortController?.abort(),this.abortController=new AbortController,this.state.isLoading=!0,this.state.hasSearched=!0,this.state.currentPage=1,this.showLoading(),this.hideSuggestions();try{const e={limit:this.state.itemsPerPage,offset:(this.state.currentPage-1)*this.state.itemsPerPage},t=await d.search(this.state.query,this.state.filters,e);this.abortController.signal.aborted||(this.displayResults(t.results),this.updateSearchStatus(t.results.length,t.totalCount),this.state.totalResults=t.totalCount)}catch(e){this.abortController.signal.aborted||(console.error("Search error:",e),this.showError("An error occurred while searching. Please try again."))}finally{this.abortController.signal.aborted||(this.state.isLoading=!1,this.hideLoading())}}async loadMoreResults(){if(!this.state.isLoading){this.state.currentPage++,this.state.isLoading=!0;try{const e={limit:this.state.itemsPerPage,offset:(this.state.currentPage-1)*this.state.itemsPerPage},t=await d.search(this.state.query,this.state.filters,e);this.appendResults(t.results)}catch(e){console.error("Load more error:",e),this.state.currentPage--}finally{this.state.isLoading=!1}}}displayResults(e){if(!this.elements.resultsContainer)return;const t=this.elements.resultsContainer.querySelector("#grid-results"),s=this.elements.resultsContainer.querySelector("#list-results");if(e.length===0){this.showNoResults();return}this.hideNoResults(),t&&(t.innerHTML=""),s&&(s.innerHTML=""),e.forEach((i,r)=>{const a=this.createResultElement(i,"grid",r),o=this.createResultElement(i,"list",r);t&&t.appendChild(a),s&&s.appendChild(o)}),this.animateResults()}appendResults(e){if(!this.elements.resultsContainer||e.length===0)return;const t=this.elements.resultsContainer.querySelector("#grid-results"),s=this.elements.resultsContainer.querySelector("#list-results"),i=t?.children.length||0;e.forEach((r,a)=>{const o=this.createResultElement(r,"grid",i+a),l=this.createResultElement(r,"list",i+a);t&&t.appendChild(o),s&&s.appendChild(l)}),this.animateResults()}createResultElement(e,t,s){const i=document.createElement("div");return i.className=t==="grid"?"post-item":"post-item-list",i.style.transitionDelay=`${s%6*.1}s`,i.dataset.score=e.relevanceScore.toString(),i.dataset.title=e.title,i.dataset.url=e.url,t==="grid"?i.innerHTML=this.createGridResultHTML(e):i.innerHTML=this.createListResultHTML(e),i}createGridResultHTML(e){return`
      <article class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-300">
        ${e.image?`
          <div class="aspect-w-16 aspect-h-9">
            <img src="${e.image}" alt="${e.title}" class="w-full h-48 object-cover" loading="lazy" />
          </div>
        `:""}
        <div class="p-6">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2 line-clamp-2">
            <a href="${e.url}" class="hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200">
              ${e.highlightedTitle||e.title}
            </a>
          </h3>
          <p class="text-gray-600 dark:text-gray-400 mb-4 line-clamp-3">
            ${e.highlightedDescription||e.description}
          </p>
          <div class="flex items-center justify-between text-sm text-gray-500 dark:text-gray-400">
            <time datetime="${e.pubDate.toISOString()}">
              ${e.pubDate.toLocaleDateString()}
            </time>
            <div class="flex items-center space-x-2">
              <span class="bg-primary-100 dark:bg-primary-900/30 text-primary-800 dark:text-primary-200 px-2 py-1 rounded-full text-xs">
                ${Math.round(e.relevanceScore*100)}% match
              </span>
            </div>
          </div>
        </div>
      </article>
    `}createListResultHTML(e){return`
      <article class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-lg hover:border-primary-300 dark:hover:border-primary-600 transition-all duration-300">
        <div class="flex items-start space-x-4">
          ${e.image?`
            <div class="flex-shrink-0">
              <img src="${e.image}" alt="${e.title}" class="w-24 h-24 object-cover rounded-lg" loading="lazy" />
            </div>
          `:""}
          <div class="flex-1 min-w-0">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2">
              <a href="${e.url}" class="hover:text-primary-600 dark:hover:text-primary-400 transition-colors duration-200">
                ${e.highlightedTitle||e.title}
              </a>
            </h3>
            <p class="text-gray-600 dark:text-gray-400 mb-3 line-clamp-2">
              ${e.highlightedDescription||e.description}
            </p>
            <div class="flex items-center justify-between text-sm text-gray-500 dark:text-gray-400">
              <div class="flex items-center space-x-4">
                <time datetime="${e.pubDate.toISOString()}">
                  ${e.pubDate.toLocaleDateString()}
                </time>
                ${e.author?`<span>by ${e.author}</span>`:""}
              </div>
              <span class="bg-primary-100 dark:bg-primary-900/30 text-primary-800 dark:text-primary-200 px-2 py-1 rounded-full text-xs">
                ${Math.round(e.relevanceScore*100)}% match
              </span>
            </div>
          </div>
        </div>
      </article>
    `}animateResults(){document.querySelectorAll(".post-item:not(.visible), .post-item-list:not(.visible)").forEach((t,s)=>{setTimeout(()=>{t.classList.add("visible")},s*50)})}async showSuggestions(e){if(this.elements.suggestionsContainer)try{const t=await d.getSuggestions(e,8);this.renderSuggestions(t),this.elements.suggestionsContainer.classList.remove("hidden")}catch(t){console.error("Suggestions error:",t)}}showPopularSearches(){this.elements.suggestionsContainer&&(this.renderSuggestions(this.popularSearches),this.elements.suggestionsContainer.classList.remove("hidden"))}renderSuggestions(e){if(!this.elements.suggestionsContainer)return;const t=e.map(s=>`
      <button class="search-suggestion flex items-center justify-between w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200" data-suggestion="${s}">
        <div class="flex items-center space-x-3">
          <svg class="h-4 w-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
          <span class="text-gray-900 dark:text-gray-100">${s}</span>
        </div>
      </button>
    `).join("");this.elements.suggestionsContainer.innerHTML=t,this.elements.suggestionsContainer.querySelectorAll(".search-suggestion").forEach(s=>{s.addEventListener("click",i=>{const r=i.currentTarget.dataset.suggestion;r&&this.elements.searchInput&&(this.elements.searchInput.value=r,this.state.query=r,this.performSearch(),this.hideSuggestions())})})}hideSuggestions(){this.elements.suggestionsContainer?.classList.add("hidden")}showLoading(){this.elements.loadingIndicator?.classList.remove("hidden"),this.elements.loadingIndicator?.classList.add("flex")}hideLoading(){this.elements.loadingIndicator?.classList.add("hidden"),this.elements.loadingIndicator?.classList.remove("flex")}showNoResults(){this.elements.noResultsElement?.classList.remove("hidden"),this.elements.resultsContainer?.classList.add("hidden")}hideNoResults(){this.elements.noResultsElement?.classList.add("hidden"),this.elements.resultsContainer?.classList.remove("hidden")}showError(e){let t=document.getElementById("search-error");t||(t=document.createElement("div"),t.id="search-error",t.className="bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 text-red-800 dark:text-red-200 px-4 py-3 rounded-lg mb-4",this.elements.resultsContainer?.parentNode?.insertBefore(t,this.elements.resultsContainer)),t.textContent=e,t.classList.remove("hidden")}clearResults(){const e=document.getElementById("grid-results"),t=document.getElementById("list-results");e&&(e.innerHTML=""),t&&(t.innerHTML=""),this.hideNoResults(),this.updateSearchStatus(0,0),this.state.hasSearched=!1,this.state.totalResults=0}clearFilters(){this.state.filters={tags:[],dateFrom:void 0,dateTo:void 0,author:"",category:""},document.querySelectorAll(".tag-filter.active").forEach(e=>e.classList.remove("active")),document.querySelectorAll(".date-filter.active").forEach(e=>e.classList.remove("active")),document.querySelectorAll(".quick-filter.active").forEach(e=>e.classList.remove("active"))}updateSearchStatus(e,t){this.elements.statusElement&&(t===0&&this.state.hasSearched?this.elements.statusElement.textContent="No articles found":t>0?this.elements.statusElement.textContent=`Showing ${e} of ${t} articles`:this.elements.statusElement.textContent="Enter a search term to find articles")}updateSortUI(e){const t=document.getElementById("current-sort-text");t&&(t.textContent=e.textContent?.trim()||"Relevance"),document.querySelectorAll(".sort-option svg").forEach(i=>i.classList.add("hidden"));const s=e.querySelector("svg");s&&s.classList.remove("hidden")}updateViewUI(e){document.querySelectorAll(".view-btn").forEach(s=>s.classList.remove("active"));const t=document.querySelector(`[data-view="${e}"]`);t&&t.classList.add("active")}updateResultsView(e){this.elements.resultsContainer&&(e==="list"?this.elements.resultsContainer.classList.add("list-view"):this.elements.resultsContainer.classList.remove("list-view"))}updateDateFilterUI(e){document.querySelectorAll(".date-filter").forEach(t=>t.classList.remove("active")),e.classList.add("active")}updateQuickFilterUI(e){document.querySelectorAll(".quick-filter").forEach(t=>t.classList.remove("active")),e.classList.add("active")}toggleClearButton(e){this.elements.clearButton&&this.elements.clearButton.classList.toggle("hidden",!e)}setVoiceSearchState(e){if(this.elements.voiceButton){this.elements.voiceButton.classList.toggle("recording",e);const t=this.elements.voiceButton.querySelector("svg");t&&t.classList.toggle("animate-pulse",e)}}addToSearchHistory(e){}loadSearchHistory(){}saveSearchHistory(){}loadPopularSearches(){this.popularSearches=d.getPopularSearches()}async indexPosts(e){await d.initialize(e)}getSearchAnalytics(){return d.getAnalytics()}clearCache(){d.clearCache()}destroy(){this.debounceTimer!==null&&clearTimeout(this.debounceTimer),this.intersectionObserver&&this.intersectionObserver.disconnect(),this.abortController&&this.abortController.abort(),this.saveSearchHistory()}}if(typeof window<"u"){let c;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{c=new m,window.EnterpriseSearchClient=c}):(c=new m,window.EnterpriseSearchClient=c)}document.addEventListener("DOMContentLoaded",async()=>{const c=new m,e=window.__SEARCH_DATA__||[];e.length>0&&await c.indexPosts(e),window.searchClient=c});
