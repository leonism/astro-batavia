import"./_sentry-release-injection-file.B1krG9NB.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},d=new t.Error().stack;d&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[d]="7d6562f1-f540-4923-bdb3-c46f435ad18c",t._sentryDebugIdIdentifier="sentry-dbid-7d6562f1-f540-4923-bdb3-c46f435ad18c")}catch{}})();function E(){const t=document.getElementById("main-search-input"),d=document.querySelectorAll(".tag-filter"),y=document.getElementById("sort-select"),b=document.querySelectorAll(".post-item"),c=document.getElementById("results-container"),n=document.getElementById("search-status"),o=document.getElementById("no-results"),p=document.getElementById("clear-search");if(!t||!c||!n||!o||!p){console.warn("Search page UI elements not found, search functionality may be impaired.");return}let r="all",h="date-desc";document.addEventListener("keydown",e=>{(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),t.focus())});function i(){const e=t.value.toLowerCase().trim(),a=[],l=!e&&r==="all"&&t.dataset.userInteracted!=="true";b.forEach(s=>{const g=s.dataset.title?.toLowerCase()||"",f=s.dataset.description?.toLowerCase()||"",u=JSON.parse(s.dataset.tags||"[]"),m=!e||g.includes(e)||f.includes(e)||u.some(v=>v.toLowerCase().includes(e)),L=r==="all"||u.includes(r);l?s.style.display="none":m&&L?(a.push(s),s.style.display="block"):s.style.display="none"}),I(a),w(a.length,e)}function I(e){const a=Array.from(e).sort((l,s)=>{const g=l.dataset.title||"",f=s.dataset.title||"",u=new Date(l.dataset.date||""),m=new Date(s.dataset.date||"");switch(h){case"date-asc":return u.getTime()-m.getTime();case"title-asc":return g.localeCompare(f);case"title-desc":return f.localeCompare(g);case"date-desc":default:return m.getTime()-u.getTime()}});c&&(c.innerHTML="",a.forEach(l=>{c.appendChild(l)}))}function w(e,a){const l=t.dataset.userInteracted==="true";if(!(!n||!o||!c)){if(!a&&r==="all"&&!l){n.style.display="block",o.style.display="none",c.innerHTML="",n.textContent=t.dataset.initialPrompt||"Enter a search term or select a topic to find articles.";return}if(a||r!=="all")if(e===0)n.style.display="none",o.style.display="block";else{n.style.display="block",o.style.display="none";let s=`Found ${e} article${e===1?"":"s"}`;a&&r==="all"?s+=` matching "${a}"`:!a&&r!=="all"?s+=` tagged with "${r}"`:s+=` matching "${a}" and tagged with "${r}"`,n.textContent=s}else n.style.display="block",o.style.display="none",n.textContent=t.dataset.showingAllPrompt||`Showing all ${e} articles. Enter a search term or select a topic to refine.`}}t.addEventListener("input",()=>{t.dataset.userInteracted="true",i()}),d.forEach(e=>{e.addEventListener("click",()=>{d.forEach(a=>{a.classList.remove("active","bg-primary-600","text-white"),a.classList.add("border-gray-300","dark:border-gray-600","text-gray-700","dark:text-gray-300")}),e.classList.add("active","bg-primary-600","text-white"),e.classList.remove("border-gray-300","dark:border-gray-600","text-gray-700","dark:text-gray-300"),r=e.getAttribute("data-tag")||"all",t.dataset.userInteracted="true",i()})}),y&&y.addEventListener("change",()=>{h=y.value,(t.value||r!=="all")&&(t.dataset.userInteracted="true"),i()}),p.addEventListener("click",()=>{t.value="",r="all",d.forEach(a=>{a.classList.remove("active","bg-primary-600","text-white"),a.classList.add("border-gray-300","dark:border-gray-600","text-gray-700","dark:text-gray-300")});const e=document.querySelector('.tag-filter[data-tag="all"]');e&&(e.classList.add("active","bg-primary-600","text-white"),e.classList.remove("border-gray-300","dark:border-gray-600","text-gray-700","dark:text-gray-300")),t.dataset.userInteracted="false",i(),t.focus()}),i()}document.addEventListener("DOMContentLoaded",()=>{E()});
