# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.0.10] - 2026-01-11

### Changed

- **refactor(build):** Refactored the compression script (`scripts/compress.js`) to TypeScript (`scripts/compress.ts`) to improve type safety and maintainability.

### Fixed

- **fix(build):** Resolved TypeScript errors in the compression script by adding explicit types, correcting module imports, and ensuring compatibility with the project's TypeScript configuration.

## [1.0.9] - 2026-01-11

### Added

- **feat(rss):** Enhanced the RSS feed to resolve validation errors and improve interoperability.
  - Added `atom:link` with `rel="self"` to satisfy [W3C validator](https://validator.w3.org/feed/) requirements.
  - Added support for featured images using the Media RSS (`media:content`) namespace.
  - Added `<language>` and `<lastBuildDate>` tags for better feed reader support.
  - Implemented automatic sorting (newest first) and draft filtering for RSS items.
- **feat(seo):** Improved sitemap technical SEO for better crawling efficiency and priority.
  - Added `priority` and `changefreq` logic to guide search engines on crawling cadence (Home: 1.0, Blog: 0.8).
  - Implemented `lastmod` with a search-engine-friendly `YYYY-MM-DD` format.
  - Added filters to exclude non-HTML API routes from the sitemap.
  - Optimized the sitemap structure with an increased `entryLimit` to ensure consolidation.

### Fixed

- **fix(seo):** Resolved "Sitemap could not be read" errors in GSC by excluding `/api/` routes and standardizing date formats.
- **fix(dx):** Suppressed TypeScript Enum assignment warnings in `astro.config.mjs` to maintain a clean development environment.

## [1.0.8] - 2026-01-11

### Added

- **feat(blog):** Added a new comprehensive guide: "Survival of the Fittest: A 2026 Tech Stack Guide to SEO (GA4, GTM, & GSC)" available in English, Spanish, and Japanese.

### Fixed

- **fix(blog):** Corrected `canonicalURL` frontmatter in over 40 Spanish and Japanese blog posts to resolve nested path issues (e.g., stripping redundant `/blog/` segments).

## [1.0.7] - 2026-01-11

### Added

- **feat(authors):** Implemented a dedicated `authors` content collection with schema validation and initial team data.
- **feat(blog):** Enabled static tag pages for all languages (`/en/blog/tags/[tag]`, `/[lang]/blog/tags/[tag]`) for better SEO and sitemap indexing.
- **feat(blog):** Implemented client-side "Load More" functionality for the blog index, enabling seamless loading of additional articles without full page reloads.

### Fixed

- **fix(search):** Resolved a duplicate method definition (`stripMarkdown`) in `EnhancedSearchEngine.ts` that was causing build warnings.
- **fix(search):** Removed unused test file `EnhancedSearchEngine.test.ts`.
- **fix(blog):** Corrected the blog tags link generation to point to the new static tag pages instead of using query parameters, ensuring distinct URLs for each tag view.
- **fix(api):** Updated the `/api/get-posts` endpoint to return server-rendered HTML fragments (using `BlogCard`) instead of JSON, aligning with the client-side consumption model.
- **fix(blog):** Resolved "Missing parameter: tag" build error by enhancing `slugifyTag` to support international characters and ensuring `getStaticPaths` filters out empty slugs.
## [1.0.6] - 2026-01-10

### Changed

- **refactor(search):** Restructured search page architecture from language-based routing (`/[lang]/search.astro`) to root-level routing (`/search.astro`) for improved accessibility and simplified URL structure.
- **refactor(search):** Significantly enhanced the `EnhancedSearchClient` with improved error handling, better TypeScript type safety, and optimized performance metrics.
  - Refactored search initialization flow with better error recovery mechanisms.
  - Added comprehensive null-safety checks for DOM element access.
  - Improved voice search integration with better browser compatibility detection.
  - Enhanced analytics tracking with more granular search insights.
  - Optimized debouncing and caching mechanisms for better performance.
- **refactor(search):** Updated `EnhancedSearchEngine` with improved semantic search capabilities and better relevance scoring algorithms.
- **refactor(search):** Enhanced `EnterpriseSearchEngine` with optimized document indexing and more efficient search result ranking.
- **refactor(components):** Relocated `Schema.astro` component from `/src/components/` to `/src/components/common/` for better organizational structure and improved component categorization.

### Fixed

- **fix(search):** Resolved TypeScript syntax errors in search overlay by adding `@ts-nocheck` directive to prevent "Unexpected identifier 'as'" errors in browser context.
- **fix(search):** Fixed search input form accessibility issues by adding proper null-safety checks for DOM element references.
- **fix(search):** Corrected search filters component to handle optional chaining for dataset properties, preventing runtime errors.
- **fix(search):** Improved search toggle component keyboard navigation with better focus management.
- **fix(api):** Removed redundant `EnterpriseSearchEngine` instantiation from `/api/search-index.ts` endpoint to reduce unnecessary processing overhead.
- **fix(api):** Added `heroImage` field to search index documents for richer search result displays.
- **fix(i18n):** Enhanced i18n utilities with better type safety and improved URL path generation logic.

### Improved

- **perf(search):** Optimized search client performance by implementing cleanup on page unload to prevent memory leaks.
- **perf(search):** Enhanced search result rendering with improved DOM manipulation efficiency.
- **dx(search):** Added developer debugging tools including `window.searchClient` and `window.searchInsights()` for easier troubleshooting.
- **dx(typescript):** Improved TypeScript type definitions across search components for better development experience.

## [1.0.5] - 2026-01-08

### Added

- **feat(nav):** Overhauled the mobile navigation with a premium enterprise design featuring glassmorphism, decorative gradients, and smooth slide-in animations.
- **feat(nav):** Integrated high-quality icons into the mobile navigation links for improved visual hierarchy.
- **feat(nav):** Added a fixed "Start Reading" CTA within the mobile menu to drive user engagement.

### Fixed

- **fix(i18n):** Resolved the "double blog" path nesting issue (e.g., `/blog/blog/`) by refining `getStaticPaths` and the `getPostUrl` utility.
- **fix(i18n):** Implemented hybrid routing: the homepage remains at the root (`/`) while English contents are correctly prefixed with `/en/`.
- **fix(i18n):** Centralized URL generation across `BlogCard`, `RelatedArticles`, and `BlogPostNavigation` using the updated `getPostUrl` helper.
- **fix(search):** Synchronized search results to use pre-calculated API URLs, eliminating client-side path reconstruction errors.

## [1.0.4] - 2026-01-01

### Added

- **feat(search):** Enhanced the search engine with new semantic clusters and added corresponding tests.

## [1.0.3] - 2026-01-01

### Fixed

- **fix(search, back-to-top):** Resolved issues with the production build where search and back-to-top functionalities were conflicting with view transitions.

## [1.0.2] - 2026-01-01

### Changed

- **deps:** Updated Astro to the latest stable version (5.16.6).
- **feat(mobile-nav):** Prevented the site from scrolling when the mobile navigation is open.

### Fixed

- **fix(mobile-nav):** Ensured the mobile navigation pane closes when clicking anywhere outside of it.

## [1.0.1] - 2025-12-31

### Added

- **feat(build):** Enhanced the `html-minifier` integration to provide more granular control and better reporting.
  - The integration now accepts custom `html-minifier-terser` options.
  - Build logs now include detailed statistics on file sizes and compression savings.
- **docs:** Created a new documentation file for the `html-minifier` integration in `docs/html-minifier-readme.md`.

### Changed

- **docs:** Updated `README.md` to reflect the latest Astro version and improvements to the build process.

### Fixed

- **fix(build):** Corrected a typo in the `<ViewTransitions />` component name in `src/layouts/Layout.astro` that was causing build failures.
- **fix(build):** Disabled the `removeOptionalTags` option in the `html-minifier` integration to prevent the removal of essential tags like `<head>` from the HTML output.
